!function(){var n,t,e;!function(r){function i(n,t){return w.call(n,t)}function o(n,t){var e,r,i,o,a,u,c,l,s,f,p=t&&t.split("/"),d=y.map,h=d&&d["*"]||{};if(n&&"."===n.charAt(0))if(t){for(p=p.slice(0,p.length-1),n=p.concat(n.split("/")),l=0;l<n.length;l+=1)if(f=n[l],"."===f)n.splice(l,1),l-=1;else if(".."===f){if(1===l&&(".."===n[2]||".."===n[0]))break;l>0&&(n.splice(l-1,2),l-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((p||h)&&d){for(e=n.split("/"),l=e.length;l>0;l-=1){if(r=e.slice(0,l).join("/"),p)for(s=p.length;s>0;s-=1)if(i=d[p.slice(0,s).join("/")],i&&(i=i[r])){o=i,a=l;break}if(o)break;!u&&h&&h[r]&&(u=h[r],c=l)}!o&&u&&(o=u,a=c),o&&(e.splice(0,a,o),n=e.join("/"))}return n}function a(n,t){return function(){return d.apply(r,x.call(arguments,0).concat([n,t]))}}function u(n){return function(t){return o(t,n)}}function c(n){return function(t){m[n]=t}}function l(n){if(i(g,n)){var t=g[n];delete g[n],b[n]=!0,p.apply(r,t)}if(!i(m,n)&&!i(b,n))throw new Error("No "+n);return m[n]}function s(n){var t,e=n?n.indexOf("!"):-1;return e>-1&&(t=n.substring(0,e),n=n.substring(e+1,n.length)),[t,n]}function f(n){return function(){return y&&y.config&&y.config[n]||{}}}var p,d,h,v,m={},g={},y={},b={},w=Object.prototype.hasOwnProperty,x=[].slice;h=function(n,t){var e,r=s(n),i=r[0];return n=r[1],i&&(i=o(i,t),e=l(i)),i?n=e&&e.normalize?e.normalize(n,u(t)):o(n,t):(n=o(n,t),r=s(n),i=r[0],n=r[1],i&&(e=l(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:e}},v={require:function(n){return a(n)},exports:function(n){var t=m[n];return"undefined"!=typeof t?t:m[n]={}},module:function(n){return{id:n,uri:"",exports:m[n],config:f(n)}}},p=function(n,t,e,o){var u,s,f,p,d,y,w=[];if(o=o||n,"function"==typeof e){for(t=!t.length&&e.length?["require","exports","module"]:t,d=0;d<t.length;d+=1)if(p=h(t[d],o),s=p.f,"require"===s)w[d]=v.require(n);else if("exports"===s)w[d]=v.exports(n),y=!0;else if("module"===s)u=w[d]=v.module(n);else if(i(m,s)||i(g,s)||i(b,s))w[d]=l(s);else{if(!p.p)throw new Error(n+" missing "+s);p.p.load(p.n,a(o,!0),c(s),{}),w[d]=m[s]}f=e.apply(m[n],w),n&&(u&&u.exports!==r&&u.exports!==m[n]?m[n]=u.exports:f===r&&y||(m[n]=f))}else n&&(m[n]=e)},n=t=d=function(n,t,e,i,o){return"string"==typeof n?v[n]?v[n](t):l(h(n,t).f):(n.splice||(y=n,t.splice?(n=t,t=e,e=null):n=r),t=t||function(){},"function"==typeof e&&(e=i,i=o),i?p(r,n,t,e):setTimeout(function(){p(r,n,t,e)},4),d)},d.config=function(n){return y=n,y.deps&&d(y.deps,y.callback),d},e=function(n,t,e){t.splice||(e=t,t=[]),i(m,n)||i(g,n)||(g[n]=[n,t,e])},e.amd={jQuery:!0}}(),e("../../vendor/almond/almond",function(){}),!function(n){"object"==typeof exports?module.exports=n():"function"==typeof e&&e.amd?e("iframe-phone",n):"undefined"!=typeof window?window.iframePhone=n():"undefined"!=typeof global?global.iframePhone=n():"undefined"!=typeof self&&(self.iframePhone=n())}(function(){return function n(e,r,i){function o(u,c){if(!r[u]){if(!e[u]){var l="function"==typeof t&&t;if(!c&&l)return l(u,!0);if(a)return a(u,!0);throw new Error("Cannot find module '"+u+"'")}var s=r[u]={exports:{}};e[u][0].call(s.exports,function(n){var t=e[u][1][n];return o(t?t:n)},s,s.exports,n,e,r,i)}return r[u].exports}for(var a="function"==typeof t&&t,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(n,t,e){function r(){function n(n){i.supported()?window.parent.postMessage(n,"*"):window.parent.postMessage(JSON.stringify(n),"*")}function t(t,e){var r;r=1===arguments.length&&"object"==typeof t&&"string"==typeof t.type?t:{type:t,content:e},g?n(r):y.push(r)}function e(){n({type:"hello"})}function r(n,t){v[n]=t}function u(){v={}}function c(){return Object.keys(v)}function l(n){if(n.source===window.parent){var e=n.data;if("string"==typeof e&&(e=JSON.parse(e)),!g&&"hello"===e.type)for(g=!0,d();y.length>0;)t(y.shift());g&&v[e.type]&&v[e.type](e.content)}}function s(){g=!1,d(),window.removeEventListener("message",messsageListener)}function f(){m||(m=!0,window.parent!==window&&(p(),window.addEventListener("message",l,!1)))}function p(){h&&d(),h=window.setInterval(e,o),window.setTimeout(d,a),e()}function d(){window.clearInterval(h),h=null}var h,v={},m=!1,g=!1,y=[];return{initialize:f,getListenerNames:c,addListener:r,removeAllListeners:u,disconnect:s,post:t}}var i=n("./structured-clone"),o=200,a=6e4,u=null;t.exports=function(){return u||(u=new r),u}},{"./structured-clone":4}],2:[function(n,t,e){function r(){for(var n="abcdefghijklmnopqrstuvwxyz0123456789",t=n.length,e=[],r=0;r<10;r++)e.push(n[Math.floor(Math.random()*t)]);return e.join("")}var i=n("./parent-endpoint"),o=n("./iframe-endpoint");t.exports=function(n,t,e,a,u){function c(n,e){var i=r();s[i]={callback:e,timeout:window.setTimeout(function(){e&&e(void 0,new Error("IframePhone timed out waiting for reply"))},2e3)},u.post(t,{messageType:"call",uuid:i,value:n})}function l(){u.disconnect()}var s=Object.create({});n&&"object"==typeof n&&(t=n.namespace,e=n.targetWindow,a=n.targetOrigin,u=n.phone,n=n.handler),u||(e===window.parent?(u=o(),u.initialize()):u=new i(e,a)),u.addListener(t,function(n){var e;"call"===n.messageType&&"function"==typeof this.handler?this.handler.call(void 0,n.value,function(e){u.post(t,{messageType:"returnValue",uuid:n.uuid,value:e})}):"returnValue"===n.messageType&&(e=s[n.uuid],e&&(window.clearTimeout(e.timeout),e.callback&&e.callback.call(void 0,n.value),s[n.uuid]=null))}.bind(this)),this.handler=n,this.call=c.bind(this),this.disconnect=l.bind(this)}},{"./iframe-endpoint":1,"./parent-endpoint":3}],3:[function(n,t,e){var r=n("./structured-clone");t.exports=function(n,t,e){function i(n){return n.src.match(/(.*?\/\/.*?)\//)[1]}function o(n,e){var i;if(i=1===arguments.length&&"object"==typeof n&&"string"==typeof n.type?n:{type:n,content:e},d){var o=c();r.supported()?o.postMessage(i,t):o.postMessage(JSON.stringify(i),t)}else p.push(i)}function a(n,t){h[n]=t}function u(n){h[n]=null}function c(){if(f){var t=n.contentWindow;if(!t)throw"IFrame element needs to be added to DOM before communication can be started (.contentWindow is not available)";return t}return n}function l(n){var e;n.source!==c()||"*"!==t&&n.origin!==t||(e=n.data,"string"==typeof e&&(e=JSON.parse(e)),h[e.type]?h[e.type](e.content):console.log("cant handle type: "+e.type))}function s(){d=!1,window.removeEventListener("message",l)}var f,p=[],d=!1,h={};try{f=n.constructor===HTMLIFrameElement}catch(n){f=!1}return f&&(t&&t.constructor!==Function||(e=t,t=i(n))),"file://"===t&&(t="*"),a("hello",function(){for(d=!0,o({type:"hello",origin:window.location.href.match(/(.*?\/\/.*?)\//)[1]}),e&&"function"==typeof e&&e();p.length>0;)o(p.shift())}),window.addEventListener("message",l,!1),{post:o,addListener:a,removeListener:u,disconnect:s,getTargetWindow:c,targetOrigin:t}}},{"./structured-clone":4}],4:[function(n,t,e){var r=!1;!function(){var n=0;if(window.postMessage)try{window.onmessage=function(t){var e=Object.prototype.toString.call(t.data);n=e.indexOf("Null")!=-1||e.indexOf("DOMWindow")!=-1?1:0,r={structuredClones:n}},window.postMessage(document.createElement("a"),"*")}catch(t){n=t.DATA_CLONE_ERR||"Cannot post cyclic structures."==t.message?1:0,r={structuredClones:n}}}(),e.supported=function(){return r&&r.structuredClones>0}},{}],5:[function(n,t,e){t.exports={ParentEndpoint:n("./lib/parent-endpoint"),getIFrameEndpoint:n("./lib/iframe-endpoint"),structuredClone:n("./lib/structured-clone"),IframePhoneRpcEndpoint:n("./lib/iframe-phone-rpc-endpoint")}},{"./lib/iframe-endpoint":1,"./lib/iframe-phone-rpc-endpoint":2,"./lib/parent-endpoint":3,"./lib/structured-clone":4}]},{},[5])(5)}),e("import-export/codap-interface",["require","iframe-phone"],function(n){function t(n){if(n.success===!1)throw new Error("CODAP error: "+n.values.error)}function e(n,t){for(var e=[],r=0,i=n.length;r<i;r+=t)e.push(n.slice(r,r+t));return e}function r(n){return{dataContextName:n.t("codap.dataContextName"),parentTable:{singleCase:n.t("codap.parentTable.singleCase"),pluralCase:n.t("codap.parentTable.pluralCase"),singleCaseWithArticle:n.t("codap.parentTable.singleCaseWithArticle"),setOfCases:n.t("codap.parentTable.setOfCases"),setOfCasesWithArticle:n.t("codap.parentTable.setOfCasesWithArticle")},childTable:{singleCase:n.t("codap.childTable.singleCase"),pluralCase:n.t("codap.childTable.pluralCase"),singleCaseWithArticle:n.t("codap.childTable.singleCaseWithArticle"),setOfCases:n.t("codap.childTable.setOfCases"),setOfCasesWithArticle:n.t("codap.childTable.setOfCasesWithArticle")},singleTable:{singleCase:n.t("codap.singleTable.singleCase"),pluralCase:n.t("codap.singleTable.pluralCase"),singleCaseWithArticle:n.t("codap.singleTable.singleCaseWithArticle"),setOfCases:n.t("codap.singleTable.setOfCases"),setOfCasesWithArticle:n.t("codap.singleTable.setOfCasesWithArticle")}}}var i=n("iframe-phone"),o=640,a=100;return{isCodapPresent:!1,init:function(n){this.codapPhone||(this.frameConfig=n,this.codapPhone=new i.IframePhoneRpcEndpoint(this.notificationHandler.bind(this),"data-interactive",window.parent))},isEmbeddedInCODAP:function(){return this.isCodapPresent},canExportData:function(){return this.isCodapPresent},notificationHandler:function(n,t){var e=n.action,r=n.resource,i={success:!0};n&&"codap-present"===n.message?(this.isCodapPresent=!0,this.initInteractiveFrame(),this.codapDidConnect()):"get"===e&&"interactiveState"===r&&(i.values={version:1}),t(i)},initInteractiveFrame:function(){this.doCommand({action:"get",resource:"interactiveFrame"},function(n){t(n);var e=n.values,r={name:this.frameConfig.title,title:this.frameConfig.title,preventDataContextReorg:!1};e.savedState||(r.dimensions={width:o,height:o/this.frameConfig.aspectRatio}),this.doCommand({action:"update",resource:"interactiveFrame",values:r},t)}.bind(this))},doCommand:function(n,t){this.codapPhone.call(n,t)},exportData:function(n,i,o,u,c){o=o||[],n=n.slice(),n.unshift({name:"Run",type:"nominal"});var l,s,f=r(c),p=o.length>0;p?(l=f.parentTable.pluralCase,s=f.childTable.pluralCase):l=f.singleTable.pluralCase;var d=function(r){i=i.slice(),i.unshift(r);var c=(p?u:["this_value_is_ignored"]).map(function(t){var e={};return n.forEach(function(n,t){e[n.name]=i[t]}),o.forEach(function(n,r){e[n.name]=t[r]}),e}),l=e(c,a);l.forEach(function(n,e){this.doCommand({action:"create",resource:"dataContext.item",values:n},function(n){t(n),0===e&&this.openTable()}.bind(this))}.bind(this))}.bind(this),h=function(){var e=[{name:l,attrs:n,labels:p?f.parentTable:f.singleTable,collapseChildren:!0}];p&&e.push({name:s,attrs:o,parent:l,labels:f.childTable}),this.doCommand({action:"create",resource:"dataContext",values:{title:f.dataContextName,collections:e}},function(n){t(n),d(1)})}.bind(this),v=function(){this.doCommand({action:"get",resource:"dataContext"},function(n){n.success?this.doCommand({action:"get",resource:"collection["+l+"].allCases"},function(n){t(n);var e=n.values.cases.length,r=e>0?n.values.cases[e-1].case.values.Run:0;d(r+1)}.bind(this)):h()}.bind(this))}.bind(this);v()},openTable:function(){this.doCommand({action:"create",resource:"component",values:{type:"caseTable"}},t)},logAction:function(n){this.doCommand({action:"notify",resource:"logMessage",values:{formatStr:n}})}}}),function(){var n=this,t=n._,e={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,u=r.slice,c=r.concat,l=(r.unshift,i.toString),s=i.hasOwnProperty,f=r.forEach,p=r.map,d=r.reduce,h=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,x=Object.keys,C=o.bind,O=function(n){return n instanceof O?n:this instanceof O?void(this._wrapped=n):new O(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=O),exports._=O):n._=O,O.VERSION="1.4.2";var T=O.each=O.forEach=function(n,t,r){if(null!=n)if(f&&n.forEach===f)n.forEach(t,r);else if(n.length===+n.length){for(var i=0,o=n.length;i<o;i++)if(t.call(r,n[i],i,n)===e)return}else for(var a in n)if(O.has(n,a)&&t.call(r,n[a],a,n)===e)return};O.map=O.collect=function(n,t,e){var r=[];return null==n?r:p&&n.map===p?n.map(t,e):(T(n,function(n,i,o){r[r.length]=t.call(e,n,i,o)}),r)},O.reduce=O.foldl=O.inject=function(n,t,e,r){var i=arguments.length>2;if(null==n&&(n=[]),d&&n.reduce===d)return r&&(t=O.bind(t,r)),i?n.reduce(t,e):n.reduce(t);if(T(n,function(n,o,a){i?e=t.call(r,e,n,o,a):(e=n,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return e},O.reduceRight=O.foldr=function(n,t,e,r){var i=arguments.length>2;if(null==n&&(n=[]),h&&n.reduceRight===h)return r&&(t=O.bind(t,r)),arguments.length>2?n.reduceRight(t,e):n.reduceRight(t);var o=n.length;if(o!==+o){var a=O.keys(n);o=a.length}if(T(n,function(u,c,l){c=a?a[--o]:--o,i?e=t.call(r,e,n[c],c,l):(e=n[c],i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return e},O.find=O.detect=function(n,t,e){var r;return j(n,function(n,i,o){if(t.call(e,n,i,o))return r=n,!0}),r},O.filter=O.select=function(n,t,e){var r=[];return null==n?r:v&&n.filter===v?n.filter(t,e):(T(n,function(n,i,o){t.call(e,n,i,o)&&(r[r.length]=n)}),r)},O.reject=function(n,t,e){return O.filter(n,function(n,r,i){return!t.call(e,n,r,i)},e)},O.every=O.all=function(n,t,r){t||(t=O.identity);var i=!0;return null==n?i:m&&n.every===m?n.every(t,r):(T(n,function(n,o,a){if(!(i=i&&t.call(r,n,o,a)))return e}),!!i)};var j=O.some=O.any=function(n,t,r){t||(t=O.identity);var i=!1;return null==n?i:g&&n.some===g?n.some(t,r):(T(n,function(n,o,a){if(i||(i=t.call(r,n,o,a)))return e}),!!i)};O.contains=O.include=function(n,t){return null!=n&&(y&&n.indexOf===y?n.indexOf(t)!=-1:j(n,function(n){return n===t}))},O.invoke=function(n,t){var e=u.call(arguments,2);return O.map(n,function(n){return(O.isFunction(t)?t:n[t]).apply(n,e)})},O.pluck=function(n,t){return O.map(n,function(n){return n[t]})},O.where=function(n,t){return O.isEmpty(t)?[]:O.filter(n,function(n){for(var e in t)if(t[e]!==n[e])return!1;return!0})},O.max=function(n,t,e){if(!t&&O.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&O.isEmpty(n))return-(1/0);var r={computed:-(1/0)};return T(n,function(n,i,o){var a=t?t.call(e,n,i,o):n;a>=r.computed&&(r={value:n,computed:a})}),r.value},O.min=function(n,t,e){if(!t&&O.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&O.isEmpty(n))return 1/0;var r={computed:1/0};return T(n,function(n,i,o){var a=t?t.call(e,n,i,o):n;a<r.computed&&(r={value:n,computed:a})}),r.value},O.shuffle=function(n){var t,e=0,r=[];return T(n,function(n){t=O.random(e++),r[e-1]=r[t],r[t]=n}),r};var _=function(n){return O.isFunction(n)?n:function(t){return t[n]}};O.sortBy=function(n,t,e){var r=_(t);return O.pluck(O.map(n,function(n,t,i){return{value:n,index:t,criteria:r.call(e,n,t,i)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return n.index<t.index?-1:1}),"value")};var E=function(n,t,e,r){var i={},o=_(t);return T(n,function(t,a){var u=o.call(e,t,a,n);r(i,u,t)}),i};O.groupBy=function(n,t,e){return E(n,t,e,function(n,t,e){(O.has(n,t)?n[t]:n[t]=[]).push(e)})},O.countBy=function(n,t,e){return E(n,t,e,function(n,t,e){O.has(n,t)||(n[t]=0),n[t]++})},O.sortedIndex=function(n,t,e,r){e=null==e?O.identity:_(e);for(var i=e.call(r,t),o=0,a=n.length;o<a;){var u=o+a>>>1;e.call(r,n[u])<i?o=u+1:a=u}return o},O.toArray=function(n){return n?n.length===+n.length?u.call(n):O.values(n):[]},O.size=function(n){return null==n?0:n.length===+n.length?n.length:O.keys(n).length},O.first=O.head=O.take=function(n,t,e){if(null!=n)return null==t||e?n[0]:u.call(n,0,t)},O.initial=function(n,t,e){return u.call(n,0,n.length-(null==t||e?1:t))},O.last=function(n,t,e){if(null!=n)return null==t||e?n[n.length-1]:u.call(n,Math.max(n.length-t,0))},O.rest=O.tail=O.drop=function(n,t,e){return u.call(n,null==t||e?1:t)},O.compact=function(n){return O.filter(n,function(n){return!!n})};var A=function(n,t,e){return T(n,function(n){O.isArray(n)?t?a.apply(e,n):A(n,t,e):e.push(n)}),e};O.flatten=function(n,t){return A(n,t,[])},O.without=function(n){return O.difference(n,u.call(arguments,1))},O.uniq=O.unique=function(n,t,e,r){O.isFunction(t)&&(r=e,e=t,t=!1);var i=e?O.map(n,e,r):n,o=[],a=[];return T(i,function(e,r){(t?r&&a[a.length-1]===e:O.contains(a,e))||(a.push(e),o.push(n[r]))}),o},O.union=function(){return O.uniq(c.apply(r,arguments))},O.intersection=function(n){var t=u.call(arguments,1);return O.filter(O.uniq(n),function(n){return O.every(t,function(t){return O.indexOf(t,n)>=0})})},O.difference=function(n){var t=c.apply(r,u.call(arguments,1));return O.filter(n,function(n){return!O.contains(t,n)})},O.zip=function(){for(var n=u.call(arguments),t=O.max(O.pluck(n,"length")),e=new Array(t),r=0;r<t;r++)e[r]=O.pluck(n,""+r);return e},O.object=function(n,t){if(null==n)return{};for(var e={},r=0,i=n.length;r<i;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e},O.indexOf=function(n,t,e){if(null==n)return-1;var r=0,i=n.length;if(e){if("number"!=typeof e)return r=O.sortedIndex(n,t),n[r]===t?r:-1;r=e<0?Math.max(0,i+e):e}if(y&&n.indexOf===y)return n.indexOf(t,e);for(;r<i;r++)if(n[r]===t)return r;return-1},O.lastIndexOf=function(n,t,e){if(null==n)return-1;var r=null!=e;if(b&&n.lastIndexOf===b)return r?n.lastIndexOf(t,e):n.lastIndexOf(t);for(var i=r?e:n.length;i--;)if(n[i]===t)return i;return-1},O.range=function(n,t,e){arguments.length<=1&&(t=n||0,n=0),e=arguments[2]||1;for(var r=Math.max(Math.ceil((t-n)/e),0),i=0,o=new Array(r);i<r;)o[i++]=n,n+=e;return o};var S=function(){};O.bind=function(n,t){var e,r;if(n.bind===C&&C)return C.apply(n,u.call(arguments,1));if(!O.isFunction(n))throw new TypeError;return r=u.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(u.call(arguments)));S.prototype=n.prototype;var i=new S,o=n.apply(i,r.concat(u.call(arguments)));return Object(o)===o?o:i}},O.bindAll=function(n){var t=u.call(arguments,1);return 0==t.length&&(t=O.functions(n)),T(t,function(t){n[t]=O.bind(n[t],n)}),n},O.memoize=function(n,t){var e={};return t||(t=O.identity),function(){var r=t.apply(this,arguments);return O.has(e,r)?e[r]:e[r]=n.apply(this,arguments)}},O.delay=function(n,t){var e=u.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},O.defer=function(n){return O.delay.apply(O,[n,1].concat(u.call(arguments,1)))},O.throttle=function(n,t){var e,r,i,o,a=0,u=function(){a=new Date,i=null,o=n.apply(e,r)};return function(){var c=new Date,l=t-(c-a);return e=this,r=arguments,l<=0?(clearTimeout(i),a=c,o=n.apply(e,r)):i||(i=setTimeout(u,l)),o}},O.debounce=function(n,t,e){var r,i;return function(){var o=this,a=arguments,u=function(){r=null,e||(i=n.apply(o,a))},c=e&&!r;return clearTimeout(r),r=setTimeout(u,t),c&&(i=n.apply(o,a)),i}},O.once=function(n){var t,e=!1;return function(){return e?t:(e=!0,t=n.apply(this,arguments),n=null,t)}},O.wrap=function(n,t){return function(){var e=[n];return a.apply(e,arguments),t.apply(this,e)}},O.compose=function(){var n=arguments;return function(){for(var t=arguments,e=n.length-1;e>=0;e--)t=[n[e].apply(this,t)];return t[0]}},O.after=function(n,t){return n<=0?t():function(){if(--n<1)return t.apply(this,arguments)}},O.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var e in n)O.has(n,e)&&(t[t.length]=e);return t},O.values=function(n){var t=[];for(var e in n)O.has(n,e)&&t.push(n[e]);return t},O.pairs=function(n){var t=[];for(var e in n)O.has(n,e)&&t.push([e,n[e]]);return t},O.invert=function(n){var t={};for(var e in n)O.has(n,e)&&(t[n[e]]=e);return t},O.functions=O.methods=function(n){var t=[];for(var e in n)O.isFunction(n[e])&&t.push(e);return t.sort()},O.extend=function(n){return T(u.call(arguments,1),function(t){for(var e in t)n[e]=t[e]}),n},O.pick=function(n){var t={},e=c.apply(r,u.call(arguments,1));return T(e,function(e){e in n&&(t[e]=n[e])}),t},O.omit=function(n){var t={},e=c.apply(r,u.call(arguments,1));for(var i in n)O.contains(e,i)||(t[i]=n[i]);return t},O.defaults=function(n){return T(u.call(arguments,1),function(t){for(var e in t)null==n[e]&&(n[e]=t[e])}),n},O.clone=function(n){return O.isObject(n)?O.isArray(n)?n.slice():O.extend({},n):n},O.tap=function(n,t){return t(n),n};var k=function(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof O&&(n=n._wrapped),t instanceof O&&(t=t._wrapped);var i=l.call(n);if(i!=l.call(t))return!1;switch(i){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var o=e.length;o--;)if(e[o]==n)return r[o]==t;e.push(n),r.push(t);var a=0,u=!0;if("[object Array]"==i){if(a=n.length,u=a==t.length)for(;a--&&(u=k(n[a],t[a],e,r)););}else{var c=n.constructor,s=t.constructor;if(c!==s&&!(O.isFunction(c)&&c instanceof c&&O.isFunction(s)&&s instanceof s))return!1;for(var f in n)if(O.has(n,f)&&(a++,!(u=O.has(t,f)&&k(n[f],t[f],e,r))))break;if(u){for(f in t)if(O.has(t,f)&&!a--)break;u=!a}}return e.pop(),r.pop(),u};O.isEqual=function(n,t){return k(n,t,[],[])},O.isEmpty=function(n){if(null==n)return!0;if(O.isArray(n)||O.isString(n))return 0===n.length;for(var t in n)if(O.has(n,t))return!1;return!0},O.isElement=function(n){return!(!n||1!==n.nodeType)},O.isArray=w||function(n){return"[object Array]"==l.call(n)},O.isObject=function(n){return n===Object(n)},T(["Arguments","Function","String","Number","Date","RegExp"],function(n){O["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),O.isArguments(arguments)||(O.isArguments=function(n){return!(!n||!O.has(n,"callee"))}),"function"!=typeof/./&&(O.isFunction=function(n){return"function"==typeof n}),O.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},O.isNaN=function(n){return O.isNumber(n)&&n!=+n},O.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},O.isNull=function(n){return null===n},O.isUndefined=function(n){return void 0===n},O.has=function(n,t){return s.call(n,t)},O.noConflict=function(){return n._=t,this},O.identity=function(n){return n},O.times=function(n,t,e){for(var r=0;r<n;r++)t.call(e,r)},O.random=function(n,t){return null==t&&(t=n,n=0),n+(0|Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=O.invert(I.escape);var R={escape:new RegExp("["+O.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+O.keys(I.unescape).join("|")+")","g")};O.each(["escape","unescape"],function(n){O[n]=function(t){return null==t?"":(""+t).replace(R[n],function(t){return I[n][t]})}}),O.result=function(n,t){if(null==n)return null;var e=n[t];return O.isFunction(e)?e.call(n):e},O.mixin=function(n){T(O.functions(n),function(t){var e=O[t]=n[t];O.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),P.call(this,e.apply(O,n))}})};var F=0;O.uniqueId=function(n){var t=F++;return n?n+t:t},O.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;O.template=function(n,t,e){e=O.defaults({},e,O.templateSettings);var r=new RegExp([(e.escape||N).source,(e.interpolate||N).source,(e.evaluate||N).source].join("|")+"|$","g"),i=0,o="__p+='";n.replace(r,function(t,e,r,a,u){o+=n.slice(i,u).replace(L,function(n){return"\\"+M[n]}),o+=e?"'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":a?"';\n"+a+"\n__p+='":"",i=u+t.length}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(n){throw n.source=o,n}if(t)return a(t,O);var u=function(n){return a.call(this,n,O)};return u.source="function("+(e.variable||"obj")+"){\n"+o+"}",u},O.chain=function(n){return O(n).chain()};var P=function(n){return this._chain?O(n).chain():n};O.mixin(O),T(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=r[n];O.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!=n&&"splice"!=n||0!==e.length||delete e[0],P.call(this,e)}}),T(["concat","join","slice"],function(n){var t=r[n];O.prototype[n]=function(){return P.call(this,t.apply(this._wrapped,arguments))}}),O.extend(O.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),e("underscore",function(n){return function(){var t;return t||n._}}(this)),e("import-export/netlogo-importer",["require","underscore"],function(n){function t(n){return n.units?n.label+" ("+n.units+")":n.label}var e=n("underscore"),r=["computationalInputs","computationalOutputs","studentInputs"];return{importRun:function(n,i){return"string"==typeof n&&(n=JSON.parse(n)),{perRunLabels:e.flatten(r.map(function(t){return n.description[t]})).map(t),perRunValues:e.flatten(r.map(function(t){return n.runs[i][t]})),perTickLabels:n.description.timeSeriesData.map(t),perTickValues:n.runs[i].timeSeriesData.map(function(n){return n.map(e.identity)})}},numberOfRuns:function(n){return"string"==typeof n&&(n=JSON.parse(n)),n.runs.length},timeStamps:function(n){return"string"==typeof n&&(n=JSON.parse(n)),e.pluck(n.runs,"timeStamp")},runHavingTimeStamp:function(n,t){"string"==typeof n&&(n=JSON.parse(n));for(var e=0;e<n.runs.length;e++)if(n.runs[e].timeStamp===t)return e;return null}}}),e("import-export/public-api",["require","import-export/codap-interface","import-export/netlogo-importer"],function(n){"use strict";return window.Lab=window.Lab||{},window.Lab.importExport={version:"0.0.1",codapInterface:n("import-export/codap-interface"),netlogoImporter:n("import-export/netlogo-importer")}}),t(["import-export/public-api"],void 0,void 0,!0)}();
